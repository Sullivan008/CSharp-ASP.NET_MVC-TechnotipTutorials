<!--Modell definiálása-->
@model CreateLoginExample.Models.ViewModels.RegistrationViewModel

@{
    ViewBag.Title = "Regisztráció";
}

<!--Menü elkészítése. Jobb oldal-t menüsáv, bal oldalt pedig a tartalom-->
<div class="panel panel-body">
    <!--Jobb oldalsó rész elkészítése, azaz a "Menüsáv" elkészítése-->
    <div class="col-md-3">
        <div class="panel panel-default">

            <!--Menüsáv elkészítése-->
            <div class="thumbnail">

                <!--Menüsáv fejlécének elkészítése-->
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <!--Menüsáv fejléc-->
                        <h3 class="panel-title">Üzenet</h3>
                    </div>
                </div>

                <!--Menüsáv törzsének elkészítése-->
                <img src="~/Content/Images/picture12415890781875.png" alt="..." style="margin-top:-20px" />
                <div class="caption">
                    <h3>Az Igazgató</h3>
                    <p>&para;Üdvözlet!  Próbálom megvalósítani az MVC csodálatos titkait, ezen Tutorial sorozat keretein belül. &para;</p>
                    <p><a href="#" class="btn btn-primary" role="button">Bővebben</a></p>
                </div>
            </div>
        </div>
    </div>

    <!--Content elkészítése-->
    <div class="col-md-9" align="center">
        <!--Űrlap elkészítése-->
        <form id="registrationForm">
            <!--Űrlap címének megjelenítése-->
            <h2 align="center">Regisztráció</h2>

            <!--Felhasználónév TextBox mező elkészítése-->
            <div class="form-group">
                <div class="col-md-12">
                    @Html.TextBoxFor(m => Model.UserName, new { @class = "form-control", @placeholder = "Felhasználónév" })
                </div>
            </div>
            <!--E-mail TextBox mező elkészítése-->
            <div class="form-group">
                <div class="col-md-12">
                    @Html.TextBoxFor(m => Model.EmailID, new { @class = "form-control", @placeholder = "E-mail cím" })
                </div>
            </div>
            <!--Password passwordbox mező elkészítése-->
            <div class="form-group">
                <div class="col-md-12">
                    @Html.PasswordFor(m => Model.Password, new { @class = "form-control", @placeholder = "Jelszó" })
                </div>
            </div>
            <!--Cím TextBox mező elkészítése-->
            <div class="form-group">
                <div class="col-md-12">
                    @Html.TextBoxFor(m => Model.Adress, new { @class = "form-control", @placeholder = "Cím" })
                </div>
            </div>
            <!--Mentés gomb elkészítése mező elkészítése-->
            <div class="form-group">
                <div class="col-md-12">
                    <a href="#" class="btn btn-primary" onclick="UserRegistration()">
                        Mentés
                        <i class="glyphicon glyphicon-floppy-save"></i>
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>

<!--Gomb Scriptek definiálása-->
<script>
    /// UserRegistration függvény megvalósítása. AJAX Kérés segítségével, meg fog hívni
    /// egy metódust, amely elmenti a felhasználó által megadott adatokat az adatbázisba
    var UserRegistration = function () {

        /// A felhasználó által megadott adatok kiolvasása, az
        /// input mezőkből
        var data = $("#registrationForm").serialize();
        /// AJAX - Asyncron JavaScript And XML
        $.ajax({
            type    :   "POST",                     /// Kérés típusa
            url     :   "/Example/RegisterUser",    /// Hol érhető el (Controller/MethodName)
            data    :    data,                      /// A controller-nek átadandó adathalmaz
            success : function (response) {                 /// Ha sikeresen lefutott az AJAX kérés
                /// Üzenet küldése a felhasználó számára
                alert("Az adatok mentése sikeres volt!");

                /// Navigálás az INDEX-re
                window.location.href = response.Url;
            }
        })
    }
</script>